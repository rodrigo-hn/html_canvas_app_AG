{
  "nodes": [
    {
      "id": "pool-main",
      "type": "shape",
      "shapeType": "bpmn-pool",
      "x": 40,
      "y": 110,
      "width": 1720,
      "height": 720,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "lane-cliente",
      "type": "shape",
      "shapeType": "bpmn-lane",
      "x": 40,
      "y": 110,
      "width": 1720,
      "height": 520,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "lane-repartidor",
      "type": "shape",
      "shapeType": "bpmn-lane",
      "x": 40,
      "y": 640,
      "width": 1720,
      "height": 190,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#1f2937", "strokeWidth": 2 }
    },

    {
      "id": "header-cliente",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 50,
      "y": 122,
      "width": 160,
      "height": 64,
      "zIndex": 1,
      "data": { "text": "Cliente" },
      "style": { "fill": "#eef2ff", "stroke": "#334155", "strokeWidth": 2 }
    },
    {
      "id": "header-repartidor",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 50,
      "y": 650,
      "width": 210,
      "height": 64,
      "zIndex": 1,
      "data": { "text": "Repartidor" },
      "style": { "fill": "#ecfeff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "ev-rechazo",
      "type": "shape",
      "shapeType": "bpmn-end-event",
      "x": 320,
      "y": 160,
      "width": 84,
      "height": 84,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fee2e2", "stroke": "#7f1d1d", "strokeWidth": 3 }
    },
    {
      "id": "label-rechazo",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 420,
      "y": 168,
      "width": 250,
      "height": 70,
      "zIndex": 3,
      "data": { "text": "Notificar Rechazo" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.5 }
    },

    {
      "id": "ev-fin-top",
      "type": "shape",
      "shapeType": "bpmn-end-event",
      "x": 1290,
      "y": 160,
      "width": 84,
      "height": 84,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fee2e2", "stroke": "#7f1d1d", "strokeWidth": 3 }
    },
    {
      "id": "label-fin-top",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 1390,
      "y": 168,
      "width": 110,
      "height": 70,
      "zIndex": 3,
      "data": { "text": "Fin" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.5 }
    },

    {
      "id": "ev-start",
      "type": "shape",
      "shapeType": "bpmn-start-event",
      "x": 80,
      "y": 310,
      "width": 70,
      "height": 70,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "task-recibir",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 240,
      "y": 290,
      "width": 220,
      "height": 98,
      "zIndex": 3,
      "data": { "text": "Recibir Orden", "taskKind": "receive" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-recibir",
      "type": "shape",
      "shapeType": "bpmn-event-message",
      "x": 255,
      "y": 315,
      "width": 44,
      "height": 44,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "gateway-confirmado",
      "type": "shape",
      "shapeType": "bpmn-gateway-exclusive",
      "x": 710,
      "y": 286,
      "width": 104,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fef3c7", "stroke": "#854d0e", "strokeWidth": 2 }
    },
    {
      "id": "label-pedido",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 650,
      "y": 198,
      "width": 230,
      "height": 78,
      "zIndex": 3,
      "data": { "text": "Pedido\nConfirmado?" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.5 }
    },

    {
      "id": "task-preparar-a",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 410,
      "y": 460,
      "width": 205,
      "height": 96,
      "zIndex": 3,
      "data": { "text": "Preparar Pizza", "taskKind": "prepare" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-preparar-a",
      "type": "shape",
      "shapeType": "bpmn-event-signal",
      "x": 426,
      "y": 485,
      "width": 40,
      "height": 40,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "task-preparar-b",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 650,
      "y": 460,
      "width": 205,
      "height": 96,
      "zIndex": 3,
      "data": { "text": "Preparar Pizza", "taskKind": "prepare" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-preparar-b",
      "type": "shape",
      "shapeType": "bpmn-event-signal",
      "x": 666,
      "y": 485,
      "width": 40,
      "height": 40,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "task-hornear",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 890,
      "y": 460,
      "width": 185,
      "height": 96,
      "zIndex": 3,
      "data": { "text": "Hornear Pizza", "taskKind": "bake" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-hornear",
      "type": "shape",
      "shapeType": "bpmn-event-timer",
      "x": 906,
      "y": 485,
      "width": 40,
      "height": 40,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "task-empacar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1110,
      "y": 460,
      "width": 185,
      "height": 96,
      "zIndex": 3,
      "data": { "text": "Empacar Pedido", "taskKind": "pack" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-empacar",
      "type": "shape",
      "shapeType": "bpmn-data-object",
      "x": 1124,
      "y": 485,
      "width": 44,
      "height": 44,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },

    {
      "id": "task-entregar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1330,
      "y": 460,
      "width": 185,
      "height": 96,
      "zIndex": 3,
      "data": { "text": "Entregar Pedido", "taskKind": "deliver" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "icon-entregar",
      "type": "shape",
      "shapeType": "bpmn-intermediate-event",
      "x": 1346,
      "y": 485,
      "width": 40,
      "height": 40,
      "zIndex": 4,
      "data": { "text": "" },
      "style": { "fill": "#ecfeff", "stroke": "#155e75", "strokeWidth": 2 }
    },

    {
      "id": "ev-entregado",
      "type": "shape",
      "shapeType": "bpmn-end-event",
      "x": 1608,
      "y": 458,
      "width": 90,
      "height": 90,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#ecfccb", "stroke": "#3f6212", "strokeWidth": 3 }
    },
    {
      "id": "label-entregado",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 1550,
      "y": 566,
      "width": 200,
      "height": 70,
      "zIndex": 3,
      "data": { "text": "Pedido Entregado" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.5 }
    },

    {
      "id": "label-si",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 840,
      "y": 298,
      "width": 64,
      "height": 44,
      "zIndex": 3,
      "data": { "text": "Si" },
      "style": { "fill": "#ecfccb", "stroke": "#3f6212", "strokeWidth": 1.5 }
    },
    {
      "id": "label-no",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 730,
      "y": 396,
      "width": 64,
      "height": 44,
      "zIndex": 3,
      "data": { "text": "No" },
      "style": { "fill": "#fee2e2", "stroke": "#7f1d1d", "strokeWidth": 1.5 }
    },

    {
      "id": "ev-repartidor",
      "type": "shape",
      "shapeType": "bpmn-intermediate-event",
      "x": 740,
      "y": 722,
      "width": 92,
      "height": 92,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#ecfeff", "stroke": "#155e75", "strokeWidth": 2 }
    },
    {
      "id": "label-repartidor",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 848,
      "y": 734,
      "width": 320,
      "height": 68,
      "zIndex": 3,
      "data": { "text": "Recoger y Entregar", "taskKind": "pickup" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.5 }
    }
  ],
  "edges": [
    { "id": "e1", "sourceId": "ev-start", "targetId": "task-recibir", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e2", "sourceId": "task-recibir", "targetId": "gateway-confirmado", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e3", "sourceId": "task-recibir", "targetId": "task-preparar-a", "sourcePort": "bottom", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e4", "sourceId": "task-preparar-a", "targetId": "task-preparar-b", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e5", "sourceId": "task-preparar-b", "targetId": "task-hornear", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e6", "sourceId": "task-hornear", "targetId": "task-empacar", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e7", "sourceId": "task-empacar", "targetId": "task-entregar", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e8", "sourceId": "task-entregar", "targetId": "ev-entregado", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e9", "sourceId": "gateway-confirmado", "targetId": "task-empacar", "sourcePort": "right", "targetPort": "top", "flowType": "sequence", "label": "Si", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e10", "sourceId": "gateway-confirmado", "targetId": "task-preparar-b", "sourcePort": "bottom", "targetPort": "top", "flowType": "sequence", "label": "No", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } },
    { "id": "e11", "sourceId": "ev-rechazo", "targetId": "task-recibir", "sourcePort": "bottom", "targetPort": "top", "flowType": "message", "zIndex": 1, "points": [], "markerStart": "open-circle", "markerEnd": "open-arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2, "dashArray": "6 4" } },
    { "id": "e12", "sourceId": "ev-fin-top", "targetId": "task-entregar", "sourcePort": "bottom", "targetPort": "top", "flowType": "message", "zIndex": 1, "points": [], "markerStart": "open-circle", "markerEnd": "open-arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2, "dashArray": "6 4" } },
    { "id": "e13", "sourceId": "header-repartidor", "targetId": "ev-repartidor", "sourcePort": "right", "targetPort": "left", "flowType": "sequence", "zIndex": 1, "points": [], "markerEnd": "arrow", "style": { "stroke": "#1f2937", "strokeWidth": 2 } }
  ]
}
