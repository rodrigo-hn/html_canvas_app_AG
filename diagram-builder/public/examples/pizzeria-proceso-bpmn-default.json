{
  "nodes": [
    {
      "id": "pool-pizzeria",
      "type": "shape",
      "shapeType": "bpmn-pool",
      "x": 40,
      "y": 80,
      "width": 2460,
      "height": 820,
      "zIndex": 0,
      "data": { "text": "PIZZERIA LA ITALIANA" },
      "style": { "fill": "transparent", "stroke": "#0f172a", "strokeWidth": 2 }
    },
    {
      "id": "lane-atencion",
      "type": "shape",
      "shapeType": "bpmn-lane",
      "x": 40,
      "y": 80,
      "width": 2460,
      "height": 250,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#0f172a", "strokeWidth": 2 }
    },
    {
      "id": "lane-cocina",
      "type": "shape",
      "shapeType": "bpmn-lane",
      "x": 40,
      "y": 330,
      "width": 2460,
      "height": 260,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#0f172a", "strokeWidth": 2 }
    },
    {
      "id": "lane-delivery",
      "type": "shape",
      "shapeType": "bpmn-lane",
      "x": 40,
      "y": 590,
      "width": 2460,
      "height": 310,
      "zIndex": 0,
      "data": { "text": "" },
      "style": { "fill": "transparent", "stroke": "#0f172a", "strokeWidth": 2 }
    },

    {
      "id": "label-atencion",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 56,
      "y": 96,
      "width": 190,
      "height": 68,
      "zIndex": 2,
      "data": { "text": "Atencion al Cliente" },
      "style": { "fill": "#eef2ff", "stroke": "#334155", "strokeWidth": 1.6 }
    },
    {
      "id": "label-cocina",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 56,
      "y": 346,
      "width": 160,
      "height": 68,
      "zIndex": 2,
      "data": { "text": "Cocina" },
      "style": { "fill": "#ecfeff", "stroke": "#334155", "strokeWidth": 1.6 }
    },
    {
      "id": "label-delivery",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 56,
      "y": 606,
      "width": 160,
      "height": 68,
      "zIndex": 2,
      "data": { "text": "Delivery" },
      "style": { "fill": "#f0fdf4", "stroke": "#334155", "strokeWidth": 1.6 }
    },

    {
      "id": "start-pedido",
      "type": "shape",
      "shapeType": "bpmn-start-event",
      "x": 170,
      "y": 190,
      "width": 72,
      "height": 72,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#ffffff", "stroke": "#334155", "strokeWidth": 2 }
    },
    {
      "id": "task-registrar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 300,
      "y": 174,
      "width": 220,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Registrar pedido", "taskKind": "receive" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "task-verificar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 580,
      "y": 174,
      "width": 250,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Verificar disponibilidad" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "gw-disponible",
      "type": "shape",
      "shapeType": "bpmn-gateway-exclusive",
      "x": 900,
      "y": 170,
      "width": 110,
      "height": 110,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fef3c7", "stroke": "#854d0e", "strokeWidth": 2 }
    },
    {
      "id": "label-disponible",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 854,
      "y": 98,
      "width": 200,
      "height": 58,
      "zIndex": 3,
      "data": { "text": "Disponible?" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.4 }
    },
    {
      "id": "task-confirmar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1080,
      "y": 174,
      "width": 220,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Confirmar pedido" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "task-notificar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1080,
      "y": 56,
      "width": 220,
      "height": 92,
      "zIndex": 3,
      "data": { "text": "Notificar cliente" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "end-cancelado",
      "type": "shape",
      "shapeType": "bpmn-end-event",
      "x": 1350,
      "y": 64,
      "width": 84,
      "height": 84,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fee2e2", "stroke": "#7f1d1d", "strokeWidth": 3 }
    },

    {
      "id": "sub-preparar",
      "type": "shape",
      "shapeType": "bpmn-subprocess",
      "x": 1080,
      "y": 396,
      "width": 220,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Preparar pizza", "taskKind": "prepare" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "task-calidad",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1360,
      "y": 396,
      "width": 210,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Control calidad" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "gw-aprobada",
      "type": "shape",
      "shapeType": "bpmn-gateway-exclusive",
      "x": 1640,
      "y": 392,
      "width": 110,
      "height": 110,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#fef3c7", "stroke": "#854d0e", "strokeWidth": 2 }
    },
    {
      "id": "label-aprobada",
      "type": "shape",
      "shapeType": "rounded-rectangle",
      "x": 1588,
      "y": 322,
      "width": 220,
      "height": 58,
      "zIndex": 3,
      "data": { "text": "Aprobada?" },
      "style": { "fill": "#ffffff", "stroke": "#64748b", "strokeWidth": 1.4 }
    },
    {
      "id": "task-empaquetar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1820,
      "y": 396,
      "width": 220,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Empaquetar pedido", "taskKind": "pack" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },

    {
      "id": "task-asignar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 1820,
      "y": 688,
      "width": 220,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Asignar repartidor", "taskKind": "pickup" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "task-entregar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 2080,
      "y": 688,
      "width": 180,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Entregar pedido", "taskKind": "deliver" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "task-cobrar",
      "type": "shape",
      "shapeType": "bpmn-task",
      "x": 2080,
      "y": 540,
      "width": 180,
      "height": 104,
      "zIndex": 3,
      "data": { "text": "Cobrar" },
      "style": { "fill": "#ffffff", "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "end-ok",
      "type": "shape",
      "shapeType": "bpmn-end-event",
      "x": 2310,
      "y": 550,
      "width": 84,
      "height": 84,
      "zIndex": 3,
      "data": { "text": "" },
      "style": { "fill": "#dcfce7", "stroke": "#166534", "strokeWidth": 3 }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "sourceId": "start-pedido",
      "targetId": "task-registrar",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e2",
      "sourceId": "task-registrar",
      "targetId": "task-verificar",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e3",
      "sourceId": "task-verificar",
      "targetId": "gw-disponible",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e4",
      "sourceId": "gw-disponible",
      "targetId": "task-confirmar",
      "sourcePort": "right",
      "targetPort": "left",
      "label": "Si",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e5",
      "sourceId": "gw-disponible",
      "targetId": "task-notificar",
      "sourcePort": "top",
      "targetPort": "left",
      "label": "No",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e6",
      "sourceId": "task-notificar",
      "targetId": "end-cancelado",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e7",
      "sourceId": "task-confirmar",
      "targetId": "sub-preparar",
      "sourcePort": "bottom",
      "targetPort": "top",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e8",
      "sourceId": "sub-preparar",
      "targetId": "task-calidad",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e9",
      "sourceId": "task-calidad",
      "targetId": "gw-aprobada",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e10",
      "sourceId": "gw-aprobada",
      "targetId": "task-empaquetar",
      "sourcePort": "right",
      "targetPort": "left",
      "label": "Si",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e11",
      "sourceId": "gw-aprobada",
      "targetId": "sub-preparar",
      "sourcePort": "left",
      "targetPort": "top",
      "label": "No",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e12",
      "sourceId": "task-empaquetar",
      "targetId": "task-asignar",
      "sourcePort": "bottom",
      "targetPort": "top",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e13",
      "sourceId": "task-asignar",
      "targetId": "task-entregar",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e14",
      "sourceId": "task-entregar",
      "targetId": "task-cobrar",
      "sourcePort": "top",
      "targetPort": "right",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    },
    {
      "id": "e15",
      "sourceId": "task-cobrar",
      "targetId": "end-ok",
      "sourcePort": "right",
      "targetPort": "left",
      "flowType": "sequence",
      "zIndex": 1,
      "points": [],
      "markerEnd": "arrow",
      "style": { "stroke": "#1f2937", "strokeWidth": 2 }
    }
  ]
}
